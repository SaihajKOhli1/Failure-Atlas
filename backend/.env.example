# Failure Atlas Backend - Environment Variables
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to git (it's in .gitignore)

# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
# Railway: Auto-provided as DATABASE_URL if using Railway Postgres
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/failure_atlas

# ============================================================================
# GitHub OAuth Configuration (REQUIRED for OAuth)
# ============================================================================
# Get these from: https://github.com/settings/developers
# 1. Create a new OAuth App
# 2. Set Authorization callback URL to: http://localhost:3000/auth/github/callback (for local dev)
#    For production: https://yourdomain.com/auth/github/callback
# 3. Copy Client ID and generate Client Secret
GITHUB_CLIENT_ID=your_github_oauth_client_id_here
GITHUB_CLIENT_SECRET=your_github_oauth_client_secret_here

# GitHub OAuth redirect URI (must match GitHub OAuth app callback URL)
# Default: http://localhost:3000/auth/github/callback
# For production: https://yourdomain.com/auth/github/callback
# Railway: https://your-frontend.railway.app/auth/github/callback
GITHUB_REDIRECT_URI=http://localhost:3000/auth/github/callback

# ============================================================================
# Session & Security Configuration
# ============================================================================
# Secret key for JWT token signing (REQUIRED in production)
# Generate a secure random string: python -c "import secrets; print(secrets.token_urlsafe(32))"
# If not set, a random key is generated on startup (NOT recommended for production)
SECRET_KEY=change_me_to_a_secure_random_string

# Environment: "development" or "production"
# - development: Cookies use HTTP (for localhost)
# - production: Cookies use HTTPS only (Secure flag)
# Railway: Set to "production" for secure cookies
ENVIRONMENT=development

# ============================================================================
# Application Configuration
# ============================================================================
# Frontend URL (for CORS and OAuth redirects)
# Default: http://localhost:3000
# For production: https://yourdomain.com
# Railway: Set to your Railway frontend URL
FRONTEND_URL=http://localhost:3000

# CORS allowed origins (comma-separated, optional)
# If not set, uses FRONTEND_URL
# Railway: Usually not needed unless using multiple domains
# Example: CORS_ORIGINS=https://yourapp.railway.app,https://customdomain.com
# CORS_ORIGINS=

# ============================================================================
# Development Mode (OPTIONAL)
# ============================================================================
# Set to "true" to enable X-User-Id header fallback (for testing/development)
# - Allows API testing with X-User-Id header without OAuth
# - Set to "false" in production (default)
# Railway: MUST be "false" in production
DEV_MODE=false
